var XMLHttpRequest = require("xmlhttprequest").XMLHttpRequest;
var xmlhttp = new XMLHttpRequest();
var urlApi = 'https://api.sheety.co/30b6e400-9023-4a15-8e6c-16aa4e3b1e72/';
//var url = "airbnb.txt";
xmlhttp.onreadystatechange = function() {
    //    console.log('entrou na function');
    if (this.readyState == 4 && this.status == 200) {
        //        console.log('entro no if ' + this.status + this.readyState);
        var listaHospedagens = JSON.parse(this.responseText);
        //       console.log(' retorno ' + myArr);
        trataHospedagens(listaHospedagens);
    }
};
xmlhttp.open("GET", urlApi, true);
xmlhttp.send();

function trataHospedagens(hospedagens) {
    console.log('entrou em myfunction ' + hospedagens + hospedagens.length);
    var linhaHospedagem;
    var CardPorLinha = 0;
    var criarLinhaPrincipal = true;
    for (linhaHospedagem = 0; linhaHospedagem < hospedagens.length; linhaHospedagem++) {
        //    if (criaLinhaPrincipal === true) {
        // Obtem a div principal
        var linhaCards = document.getElementById('linhaCards');
        //criaLinhaCards();
        // Cria a divisão de coluna principal  para inclusão dos cards de hospedagens
        var colunaCards = document.createElement("div");
        // Adiciona a classe e ID  da coluna principal
        colunaCards.className = "col-md-4";
        colunaCards.id = "colunaCards";
    };
    //criaLinhaPrincipal = false;
    //};
    //criaCards();
    //CardPorLinha++;
    //if (CardPorLinha >= 3) {
    //   CardPorLinha = 0;
    //  criaLinhaPrincipal = true;
    //};
    preencheCards(hospedagens, hospedagens.length);
    // retorna no consolde os dados obtidos no Json da API por ocorrencia
    console.log("nome " + linhaHospedagem + hospedagens[linhaHospedagem].name);
}
}



function criaLinhaCards() {
    // Cria a divisão de coluna principal  para inclusão dos cards de hospedagens
    var colunaCards = document.createElement("div");
    // Adiciona a classe e ID  da coluna principal
    colunaCards.className = "col-md-4";
    colunaCards.id = "colunaCards";
    return colunaCards;
};

function criaCards() {
    //Cria a divisão  de cada card
    var cardEstadia = document.createElement("div");
    // Adiciona a classe e ID  da divisao do card
    cardEstadia.className = "card ";
    cardEstadia.id = "cardEstadia";

    //Cria a divisão  para inclusao da imagem no card
    var cardImagem = document.createElement("div");
    // Adiciona a classe, ID e estilo na divisao de imagem do card
    cardImagem.className = "card-img-top card-image";
    cardImagem.id = "imagemEstadia";
    cardImagem.style = "width: auto;";
    return cardEstadia + cardImagem;
};


function preencheCards(hospedagemRecebida, totalHospedagens) {
    var idHospedagem;
    var nomeHospedagem;
    var tipoHospedagem;
    var fotoHospedagem;

};

function myFunction(p1, p2) {
    return p1 + p2;
}
document.getElementById("demo").innerHTML = myFunction(4, 3);